import{a as b}from"./chunk-KNUCJNSJ.js";import{b as M}from"./chunk-CQOJENEW.js";import{a as C}from"./chunk-OOHQEE5L.js";import"./chunk-S7DFJDHE.js";import"./chunk-ZH6D4JNL.js";import"./chunk-LV7JVZMU.js";import"./chunk-4WY6IZPL.js";import{e as x}from"./chunk-WDDFHKIH.js";import{b as v}from"./chunk-NZNLV7ZF.js";import{b as y}from"./chunk-AGVKSH7H.js";import{q as f}from"./chunk-V2NMUT4R.js";import{a as h}from"./chunk-KEBJO4LJ.js";import{e as S}from"./chunk-PEYIU4ER.js";import"./chunk-RJZ3H7D5.js";import"./chunk-5YI4S6VK.js";import{f as g}from"./chunk-PXM2JOVS.js";import{x as d}from"./chunk-27E65EIB.js";import{b as c,d as m}from"./chunk-67M3DXMG.js";import{n as u}from"./chunk-FYJ5Y7AH.js";import{Ra as r,Rb as l,Sb as p,ba as a,hb as n,sb as s}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";var Y=(()=>{class o{constructor(i,e,t,T,_,D){this.route=i,this.router=e,this.validationService=t,this.ngxSpinnerService=T,this.buildCountriesService=_,this.messageService=D,this.formFields=[],this.isEditMode=!1,this.editData=null,this.buildCountryId=null,this.buildTypes=[],this.buildTypeOptions=[],this.extraFormData={},this.dataSubscription=null}ngOnInit(){this.buildCountryId=this.route.snapshot.paramMap.get("id"),this.isEditMode=!!this.buildCountryId,this.dataSubscription=this.route.data.subscribe({next:i=>{i?.data?(this.buildTypes=i.data.buildTypes?.map(e=>e.data||e)||[],this.isEditMode&&i.data.buildCountry&&(this.editData=i.data.buildCountry.data,this.editData?.build_type_id&&(this.editData.build_type_id=Number(this.editData.build_type_id))),this.buildTypeOptions=this.buildTypes.map(e=>({label:e.en_title||"Unnamed Build Type",value:e.id.toString()})),this.initializeFields(),this.ngxSpinnerService.hide("actionsLoader")):(this.messageService.add({severity:"error",summary:"Error",detail:"No data received from resolver"}),this.ngxSpinnerService.hide("actionsLoader"))},error:i=>{console.error("Failed to load data:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load required data"}),this.ngxSpinnerService.hide("actionsLoader")},complete:()=>{this.ngxSpinnerService.hide("actionsLoader")}})}ngOnDestroy(){this.dataSubscription&&this.dataSubscription.unsubscribe(),this.ngxSpinnerService.hide("actionsLoader")}initializeFields(){this.formFields=[{name:"build_type_id",label:"Build Type",type:"dropdown",required:!0,options:this.buildTypeOptions,placeholder:this.buildTypeOptions.length?"Select Build Type":"No Build Types Available"},{name:"en_title",label:"English Title",type:"text",required:!0,placeholder:"English Title"},{name:"ar_title",label:"Arabic Title",type:"text",required:!0,placeholder:"Arabic Title"},{name:"active_status",label:"Status",type:"boolean",required:!0}]}static{this.\u0275fac=function(e){return new(e||o)(r(c),r(m),r(C),r(h),r(b),r(d))}}static{this.\u0275cmp=a({type:o,selectors:[["app-add-edit-build-countries"]],standalone:!0,features:[l([d]),p],decls:1,vars:7,consts:[[3,"fields","entityType","title","redirectRoute","isEdit","editData","extraFormData"]],template:function(e,t){e&1&&s(0,"app-generic-form",0),e&2&&n("fields",t.formFields)("entityType","build-countries")("title",t.isEditMode?"Edit Build Country":"Add Build Country")("redirectRoute","/dashboard/menu/build-countries")("isEdit",t.isEditMode)("editData",t.editData)("extraFormData",t.extraFormData)},dependencies:[u,f,x,y,v,g,S,M],styles:["[_nghost-%COMP%]     .p-dropdown{width:100%;height:50px;background:#fff;border-radius:12px;padding:0 20px;color:#1f2937;transition:all .2s ease;border:1px solid rgba(0,0,0,.285)}[_nghost-%COMP%]     .p-dropdown .p-dropdown-label{font-size:16px;color:#6b7280;margin-top:1px}[_nghost-%COMP%]     .p-dropdown-trigger{background:transparent;border:none;position:absolute;right:10px;top:50%;transform:translateY(-50%);color:#6b7280}[_nghost-%COMP%]     .p-calendar{width:100%}[_nghost-%COMP%]     .p-calendar .p-inputtext{width:100%;height:50px;border-radius:12px;padding:0 20px;color:#1f2937;transition:all .2s ease;border:1px solid rgba(0,0,0,.285);font-size:16px}[_nghost-%COMP%]     .p-calendar .p-inputtext::placeholder{color:#6b7280}[_nghost-%COMP%]     .p-calendar .p-datepicker-trigger{background:transparent;border:none;position:absolute;right:10px;top:50%;transform:translateY(-50%);color:#6b7280}"]})}}return o})();export{Y as AddEditBuildCountriesComponent};
