import{a as c}from"./chunk-RJZ3H7D5.js";import{r as o}from"./chunk-FYJ5Y7AH.js";import{$a as r,N as i,S as n,Y as a}from"./chunk-PSXZOWGB.js";var l=(()=>{class p{constructor(){this._http=a(o),this.baseUrl=c,this.jopData=r(null),this.jopData$=this.jopData.asReadonly()}getInsurances(){return this.jopData()?.category.jopinsurances||[]}getActiveInsurances(){return this.getInsurances().filter(t=>t.active_status===1)}getChoicesByInsurance(t){return this.getInsurances().find(s=>s.id===t)?.jopchoices.filter(s=>s.active_status===1)||[]}fetchJopData(){let t={type:"jop"};return this._http.get(`${this.baseUrl}app-policies/policies-content/5`,{params:t}).pipe(i(e=>{this.jopData.set(e)}))}submitJopPolicy(t){let e=new FormData;return e.append("category_id",t.category_id),e.append("jop_insurance_id",t.jop_insurance_id),e.append("user_id",t.user_id),e.append("name",t.name),e.append("email",t.email),e.append("phone",t.phone),e.append("jop_title",t.jop_title),e.append("jop_price",t.jop_price),e.append("active_status",t.active_status),t.jop_main_id&&e.append("jop_main_id",t.jop_main_id),t.jop_second_id&&e.append("jop_second_id",t.jop_second_id),this._http.post(`${this.baseUrl}app-policies/policies-jop-store`,e)}createJopLead(t){return t.has("category_id")||t.append("category_id","5"),this._http.post(`${this.baseUrl}app-leads/jop-lead`,t)}updateJopLead(t,e){return this._http.post(`${this.baseUrl}app-leads/jop-update/${t}`,e)}createJopClaim(t){return this._http.post(`${this.baseUrl}app-claims/claim-jop-store`,t)}static{this.\u0275fac=function(e){return new(e||p)}}static{this.\u0275prov=n({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();export{l as a};
