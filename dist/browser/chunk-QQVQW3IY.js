import{a as c}from"./chunk-DCM55A5P.js";import{a as p}from"./chunk-4QTIBBLB.js";import"./chunk-2O7EOZOI.js";import{a as l}from"./chunk-KEBJO4LJ.js";import"./chunk-PEYIU4ER.js";import"./chunk-RJZ3H7D5.js";import"./chunk-5YI4S6VK.js";import"./chunk-PXM2JOVS.js";import"./chunk-27E65EIB.js";import{b as u}from"./chunk-67M3DXMG.js";import"./chunk-FYJ5Y7AH.js";import{Ra as o,Sb as s,ba as r,hb as d,sb as a}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";var S=(()=>{class n{constructor(e,i,t){this.route=e,this.ngxSpinnerService=i,this.normalizeActiveStatusService=t,this.buildCountry=null,this.dataSubscription=null,this.columns=[{field:"id",header:"ID",type:"text"},{field:"build_type_id",header:"Build Type",type:"text",displayFn:b=>b.build_type?.en_title||"No Build Type"},{field:"en_title",header:"English Name",type:"text"},{field:"ar_title",header:"Arabic Name",type:"text"},{field:"created_at",header:"Created At",type:"date"},{field:"active_status",header:"Status",type:"boolean"}]}ngOnInit(){this.dataSubscription=this.route.data.subscribe({next:e=>{if(console.log(e),console.log(e.data.buildCountry),e?.data.buildCountry&&(this.buildCountry=e.data.buildCountry.data,this.buildCountry&&(this.buildCountry.active_status=this.normalizeActiveStatusService.normalizeActiveStatus(this.buildCountry.active_status),e.data.buildTypes))){let i=e.data.buildTypes.map(t=>t.data||t);this.buildCountry.build_type=i.find(t=>t.id===this.buildCountry?.build_type_id)}console.log("buildCountry:",this.buildCountry),this.ngxSpinnerService.hide("actionsLoader")},error:e=>{console.error("Failed to load build country:",e),this.ngxSpinnerService.hide("actionsLoader")},complete:()=>{this.ngxSpinnerService.hide("actionsLoader")}})}ngOnDestroy(){this.dataSubscription&&this.dataSubscription.unsubscribe(),this.ngxSpinnerService.hide("actionsLoader")}static{this.\u0275fac=function(i){return new(i||n)(o(u),o(l),o(c))}}static{this.\u0275cmp=r({type:n,selectors:[["app-view-build-countries"]],standalone:!0,features:[s],decls:1,vars:5,consts:[[3,"data","columns","title","editRoute","backRoute"]],template:function(i,t){i&1&&a(0,"app-generic-view",0),i&2&&d("data",t.buildCountry)("columns",t.columns)("title","Build Country")("editRoute","/dashboard/menu/build-countries/edit")("backRoute","/dashboard/menu/build-countries")},dependencies:[p]})}}return n})();export{S as ViewBuildCountriesComponent};
