import{a as z}from"./chunk-2O7EOZOI.js";import{a as V,b as $,c as F}from"./chunk-KEBJO4LJ.js";import{d as k,e as U}from"./chunk-PEYIU4ER.js";import"./chunk-5YI4S6VK.js";import{e as L,f as O}from"./chunk-PXM2JOVS.js";import"./chunk-27E65EIB.js";import{b as P}from"./chunk-67M3DXMG.js";import{h as E,n as T}from"./chunk-FYJ5Y7AH.js";import{Ab as s,Eb as S,Kb as r,Lb as x,Ma as f,Mb as c,Qa as a,Ra as b,Sb as D,Vb as g,ba as w,fb as u,hb as m,jb as h,ka as M,la as A,mb as d,ob as v,pb as C,qb as n,rb as i,sb as _,wb as N,zb as I}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";var q=(t,o)=>o.field,R=(t,o)=>({"text-green-600 font-semibold":t,"text-red-500 italic":o});function H(t,o){t&1&&_(0,"app-loading-data-banner")}function J(t,o){t&1&&_(0,"div",17)}function K(t,o){if(t&1){let e=N();n(0,"div",15)(1,"img",16),I("load",function(){M(e);let p=s(3);return A(p.onImageLoad())}),i(),u(2,J,1,0,"div",17),i()}if(t&2){let e=s().$implicit,l=s(2);a(),h("loaded",l.imageLoaded),m("src",l.getImageUrl(e.value),f)("alt",e.header),a(),d(2,l.imageLoaded?-1:2)}}function Q(t,o){if(t&1&&(n(0,"a",18),r(1),i()),t&2){let e=s().$implicit;m("href",e.value,f),a(),c(" ",e.value," ")}}function W(t,o){if(t&1&&(n(0,"span",19),r(1),i()),t&2){let e=s().$implicit;m("ngClass",g(2,R,e.value,!e.value)),a(),c(" ",e.value?"Active":"Not Active"," ")}}function X(t,o){if(t&1&&r(0),t&2){let e=s().$implicit;c(" ",e.value," ")}}function ee(t,o){if(t&1&&(n(0,"div",7)(1,"div",13),r(2),i(),n(3,"div",14),u(4,K,3,5)(5,Q,2,2)(6,W,2,5)(7,X,1,1),i()()),t&2){let e,l=o.$implicit;a(2),x(l.header),a(2),d(4,(e=l.type)==="image"?4:e==="link"?5:e==="boolean"?6:7)}}function te(t,o){if(t&1&&(n(0,"a",11),_(1,"p-button",20),i()),t&2){let e=s(2);S("href","/dashboard/menu/motor-requests/edit/",e.motorRequest.id,"",f)}}function ie(t,o){if(t&1&&(n(0,"span",19),r(1),i()),t&2){let e=s().$implicit;m("ngClass",g(2,R,e.value,!e.value)),a(),c(" ",e.value?"Active":"Not Active"," ")}}function oe(t,o){if(t&1&&r(0),t&2){let e=s().$implicit;c(" ",e.value," ")}}function ne(t,o){if(t&1&&(n(0,"div",7)(1,"div",13),r(2),i(),n(3,"div",14),u(4,ie,2,5,"span",19)(5,oe,1,1),i()()),t&2){let e=o.$implicit;a(2),x(e.header),a(2),d(4,e.type==="boolean"?4:5)}}function ae(t,o){if(t&1&&(n(0,"div",21)(1,"div",4)(2,"h2",5),r(3,"User Details"),i()(),n(4,"div",6),v(5,ne,6,2,"div",7,q),i()()),t&2){let e=s(2);h("loading",e.isLoading),a(5),C(e.userData)}}function re(t,o){if(t&1&&(n(0,"a",18),r(1," Link "),i()),t&2){let e=s().$implicit;m("href",e.value,f)}}function se(t,o){if(t&1&&(n(0,"span",19),r(1),i()),t&2){let e=s().$implicit;m("ngClass",g(2,R,e.value,!e.value)),a(),c(" ",e.value?"Active":"Not Active"," ")}}function le(t,o){if(t&1&&r(0),t&2){let e=s().$implicit;c(" ",e.value," ")}}function de(t,o){if(t&1&&(n(0,"div",7)(1,"div",13),r(2),i(),n(3,"div",14),u(4,re,2,1,"a",18)(5,se,2,5)(6,le,1,1),i()()),t&2){let e=o.$implicit;a(2),x(e.header),a(2),d(4,e.type==="link"?4:e.type==="boolean"?5:6)}}function me(t,o){if(t&1&&(n(0,"div",21)(1,"div",4)(2,"h2",5),r(3,"Category Details"),i()(),n(4,"div",6),v(5,de,7,2,"div",7,q),i()()),t&2){let e=s(2);h("loading",e.isLoading),a(5),C(e.categoryData)}}function ce(t,o){if(t&1&&(n(0,"span",19),r(1),i()),t&2){let e=s().$implicit;m("ngClass",g(2,R,e.value,!e.value)),a(),c(" ",e.value?"Active":"Not Active"," ")}}function ue(t,o){if(t&1&&r(0),t&2){let e=s().$implicit;c(" ",e.value," ")}}function _e(t,o){if(t&1&&(n(0,"div",7)(1,"div",13),r(2),i(),n(3,"div",14),u(4,ce,2,5,"span",19)(5,ue,1,1),i()()),t&2){let e=o.$implicit;a(2),x(e.header),a(2),d(4,e.type==="boolean"?4:5)}}function pe(t,o){if(t&1&&(n(0,"div",21)(1,"div",4)(2,"h2",5),r(3,"Motor Insurance Details"),i()(),n(4,"div",6),v(5,_e,6,2,"div",7,q),i()()),t&2){let e=s(2);h("loading",e.isLoading),a(5),C(e.motorInsuranceData)}}function he(t,o){if(t&1&&(n(0,"div",3)(1,"div",4)(2,"h2",5),r(3,"Motor Request Details"),i()(),n(4,"div",6),v(5,ee,8,2,"div",7,q),i(),n(7,"div",8)(8,"a",9),_(9,"p-button",10),i(),u(10,te,2,2,"a",11),i()(),u(11,ae,7,2,"div",12)(12,me,7,2,"div",12)(13,pe,7,2,"div",12)),t&2){let e=s();h("loading",e.isLoading),a(5),C(e.motorRequestData),a(5),d(10,e.motorRequest.id?10:-1),a(),d(11,e.motorRequest.user?11:-1),a(),d(12,e.category?12:-1),a(),d(13,e.motorInsurance?13:-1)}}function fe(t,o){t&1&&(n(0,"div",22)(1,"div",23),_(2,"i",24),n(3,"p",25),r(4,"No motor request data found"),i()(),n(5,"div",26)(6,"a",9),_(7,"p-button",27),i()()())}var Ne=(()=>{class t{constructor(e,l){this.route=e,this.ngxSpinnerService=l,this.motorRequest=null,this.category=null,this.motorInsurance=null,this.isLoading=!0,this.imageLoaded=!1,this.motorRequestData=[],this.userData=[],this.categoryData=[],this.motorInsuranceData=[]}ngOnInit(){this.ngxSpinnerService.show("actionsLoader"),this.route.data.subscribe(e=>{this.motorRequest=e.data.motorRequest.data,this.category=e.data.category.data,this.motorInsurance=e.data.motorInsurance.data,this.prepareTableData(),this.isLoading=!1,this.ngxSpinnerService.hide("actionsLoader")})}prepareTableData(){this.motorRequest&&(this.motorRequestData=[{field:"id",header:"ID",value:this.motorRequest.id||"N/A"},{field:"payment_method",header:"Payment Method",value:this.motorRequest.payment_method||"N/A"},{field:"motor_insurance_number",header:"Motor Insurance Number",value:this.motorRequest.motor_insurance_number||"N/A"},{field:"admin_motor_insurance_number",header:"Admin Motor Insurance Number",value:this.motorRequest.admin_motor_insurance_number||"N/A"},{field:"name",header:"Name",value:this.motorRequest.name||"N/A"},{field:"email",header:"Email",value:this.motorRequest.email||"N/A"},{field:"phone",header:"Phone",value:this.motorRequest.phone||"N/A"},{field:"car_type",header:"Car Type",value:this.motorRequest.car_type||"N/A"},{field:"car_brand",header:"Car Brand",value:this.motorRequest.car_brand||"N/A"},{field:"car_model",header:"Car Model",value:this.motorRequest.car_model||"N/A"},{field:"car_year",header:"Car Year",value:this.motorRequest.car_year||"N/A"},{field:"car_price",header:"Car Price",value:this.motorRequest.car_price?`${this.motorRequest.car_price} LE`:"N/A"},{field:"start_date",header:"Start Date",value:this.motorRequest.start_date?this.formatDate(this.motorRequest.start_date):"N/A"},{field:"duration",header:"Duration",value:this.motorRequest.duration?`${this.motorRequest.duration} years`:"N/A"},{field:"end_date",header:"End Date",value:this.motorRequest.end_date?this.formatDate(this.motorRequest.end_date):"N/A"},{field:"active_status",header:"Active Status",value:this.motorRequest.active_status||"N/A",type:"boolean"},{field:"created_at",header:"Created At",value:this.motorRequest.created_at?this.formatDate(this.motorRequest.created_at):"N/A"},{field:"updated_at",header:"Updated At",value:this.motorRequest.updated_at?this.formatDate(this.motorRequest.updated_at):"N/A"}],this.motorRequest.user&&(this.userData=[{field:"id",header:"ID",value:this.motorRequest.user.id||"N/A"},{field:"name",header:"Name",value:this.motorRequest.user.name||"N/A"},{field:"email",header:"Email",value:this.motorRequest.user.email||"N/A"},{field:"phone",header:"Phone",value:this.motorRequest.user.phone||"N/A"},{field:"gender",header:"Gender",value:this.motorRequest.user.gender||"N/A"},{field:"birth_date",header:"Birth Date",value:this.motorRequest.user.birth_date||"N/A"},{field:"role",header:"Role",value:this.motorRequest.user.role||"N/A"},{field:"created_at",header:"Created At",value:this.motorRequest.user.created_at?this.formatDate(this.motorRequest.user.created_at):"N/A"},{field:"updated_at",header:"Updated At",value:this.motorRequest.user.updated_at?this.formatDate(this.motorRequest.user.updated_at):"N/A"}])),this.category&&(this.categoryData=[{field:"id",header:"ID",value:this.category.id||"N/A"},{field:"en_title",header:"English Title",value:this.category.en_title||"N/A"},{field:"network_link",header:"Network Link",value:this.category.network_link||"N/A",type:"link"},{field:"counter_number",header:"Counter Number",value:this.category.counter_number||"N/A"},{field:"created_at",header:"Created At",value:this.category.created_at?this.formatDate(this.category.created_at):"N/A"}]),this.motorInsurance&&(this.motorInsuranceData=[{field:"id",header:"ID",value:this.motorInsurance.id||"N/A"},{field:"en_title",header:"English Title",value:this.motorInsurance.en_title||"N/A"},{field:"company_name",header:"Company Name",value:this.motorInsurance.company_name||"N/A"},{field:"year_money",header:"Yearly Cost",value:this.motorInsurance.year_money||"N/A"},{field:"created_at",header:"Created At",value:this.motorInsurance.created_at?this.formatDate(this.motorInsurance.created_at):"N/A"},{field:"updated_at",header:"Updated At",value:this.motorInsurance.updated_at?this.formatDate(this.motorInsurance.updated_at):"N/A"}])}formatDate(e){if(!e)return"N/A";if(e.includes("T")){let y=new Date(e);if(isNaN(y.getTime()))return e;let Y=(y.getMonth()+1).toString().padStart(2,"0"),Z=y.getDate().toString().padStart(2,"0"),G=y.getFullYear();return`${Y}/${Z}/${G}`}let l=e.match(/^(\d{2})-(\d{2})-(\d{4})$/);if(!l)return e;let[,p,j,B]=l;return`${j}/${p}/${B}`}getImageUrl(e){return e||"assets/placeholder.png"}onImageLoad(){this.imageLoaded=!0}static{this.\u0275fac=function(l){return new(l||t)(b(P),b(V))}}static{this.\u0275cmp=w({type:t,selectors:[["app-view-motors-requests"]],standalone:!0,features:[D],decls:7,vars:3,consts:[["position","top-right",3,"baseZIndex"],["name","actionsLoader","bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[1,"text-white"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"detail-section"],[1,"detail-row"],[1,"action-buttons","flex","gap-2","justify-end"],["href","/dashboard/menu/motor-requests"],["label","Back","styleClass","p-button-text"],[3,"href"],[1,"card","mt-4",3,"loading"],[1,"detail-label","font-bold"],[1,"detail-value"],[1,"image-container"],[1,"category-image",3,"load","src","alt"],[1,"image-placeholder"],["target","_blank",1,"link","hover:underline","text-primary-600",3,"href"],[3,"ngClass"],["label","Edit","styleClass","p-button-outlined"],[1,"card","mt-4"],[1,"card","no-data-card"],[1,"no-data-message","flex","flex-col","items-center","justify-center","p-8","text-center"],["issuclass","pi pi-exclamation-circle text-4xl text-yellow-500 mb-4"],[1,"text-lg","font-medium"],[1,"action-buttons","flex","justify-center","pb-4"],["label","Back to Motor Requests","styleClass","p-button-text"]],template:function(l,p){l&1&&(_(0,"p-toast",0),n(1,"ngx-spinner",1)(2,"p",2),r(3,"Loading..."),i()(),u(4,H,1,0,"app-loading-data-banner")(5,he,14,6)(6,fe,8,0)),l&2&&(m("baseZIndex",5e3),a(),m("fullScreen",!0),a(3),d(4,p.isLoading?4:p.motorRequest?5:6))},dependencies:[T,E,U,k,O,L,F,$,z],styles:["[_nghost-%COMP%]{display:block;font-family:Arial,sans-serif}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:1.5rem;margin-bottom:1.5rem}.card.loading[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937}.detail-section[_ngcontent-%COMP%]{display:grid;gap:1rem}.detail-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 1fr;align-items:center;padding:.75rem 0;border-bottom:1px solid #e5e7eb}.detail-row.flex[_ngcontent-%COMP%]{display:flex;align-items:center}.detail-label[_ngcontent-%COMP%]{font-weight:500;color:#4b5563;text-transform:capitalize}.detail-value[_ngcontent-%COMP%]{color:#1f2937}.image-container[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.category-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:4px;opacity:0;transition:opacity .3s}.category-image.loaded[_ngcontent-%COMP%]{opacity:1}.image-placeholder[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#e5e7eb;border-radius:4px}.link[_ngcontent-%COMP%]{color:#2563eb;text-decoration:underline}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:1rem}.no-data-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:1.5rem;text-align:center}.no-data-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#4b5563;font-size:1.125rem}.no-data-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#dc2626}"]})}}return t})();export{Ne as ViewMotorsRequestsComponent};
