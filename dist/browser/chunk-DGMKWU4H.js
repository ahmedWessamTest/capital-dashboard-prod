import{a as k}from"./chunk-2O7EOZOI.js";import{a as S,b as E,c as T}from"./chunk-KEBJO4LJ.js";import{d as $,e as F}from"./chunk-PEYIU4ER.js";import"./chunk-5YI4S6VK.js";import{e as M,f as V}from"./chunk-PXM2JOVS.js";import"./chunk-27E65EIB.js";import{b as I}from"./chunk-67M3DXMG.js";import{h as P,n as D}from"./chunk-FYJ5Y7AH.js";import{Ab as r,Eb as N,Kb as l,Lb as f,Ma as q,Mb as u,Qa as o,Ra as R,Sb as w,Vb as b,ba as A,fb as c,hb as m,jb as p,mb as d,ob as g,pb as h,qb as i,rb as n,sb as _}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";var x=(t,a)=>a.field,y=(t,a)=>({"text-green-600 font-semibold":t,"text-red-500 italic":a});function z(t,a){t&1&&_(0,"app-loading-data-banner")}function Y(t,a){if(t&1&&(i(0,"span",15),l(1),n()),t&2){let e=r().$implicit;m("ngClass",b(2,y,e.value,!e.value)),o(),u(" ",e.value?"Active":"Not Active"," ")}}function Z(t,a){if(t&1&&l(0),t&2){let e=r().$implicit;u(" ",e.value," ")}}function G(t,a){if(t&1&&(i(0,"div",7)(1,"div",13),l(2),n(),i(3,"div",14),c(4,Y,2,5,"span",15)(5,Z,1,1),n()()),t&2){let e=a.$implicit;o(2),f(e.header),o(2),d(4,e.type==="boolean"?4:5)}}function H(t,a){if(t&1&&(i(0,"a",11),_(1,"p-button",16),n()),t&2){let e=r(2);N("href","/dashboard/menu/building-requests/edit/",e.buildingRequest.id,"",q)}}function J(t,a){if(t&1&&(i(0,"span",15),l(1),n()),t&2){let e=r().$implicit;m("ngClass",b(2,y,e.value,!e.value)),o(),u(" ",e.value?"Active":"Not Active"," ")}}function K(t,a){if(t&1&&l(0),t&2){let e=r().$implicit;u(" ",e.value," ")}}function Q(t,a){if(t&1&&(i(0,"div",7)(1,"div",13),l(2),n(),i(3,"div",14),c(4,J,2,5,"span",15)(5,K,1,1),n()()),t&2){let e=a.$implicit;o(2),f(e.header),o(2),d(4,e.type==="boolean"?4:5)}}function W(t,a){if(t&1&&(i(0,"div",17)(1,"div",4)(2,"h2",5),l(3,"User Details"),n()(),i(4,"div",6),g(5,Q,6,2,"div",7,x),n()()),t&2){let e=r(2);p("loading",e.isLoading),o(5),h(e.userData)}}function X(t,a){if(t&1&&(i(0,"a",18),l(1," Link "),n()),t&2){let e=r().$implicit;m("href",e.value,q)}}function ee(t,a){if(t&1&&(i(0,"span",15),l(1),n()),t&2){let e=r().$implicit;m("ngClass",b(2,y,e.value,!e.value)),o(),u(" ",e.value?"Active":"Not Active"," ")}}function te(t,a){if(t&1&&l(0),t&2){let e=r().$implicit;u(" ",e.value," ")}}function ie(t,a){if(t&1&&(i(0,"div",7)(1,"div",13),l(2),n(),i(3,"div",14),c(4,X,2,1,"a",18)(5,ee,2,5)(6,te,1,1),n()()),t&2){let e=a.$implicit;o(2),f(e.header),o(2),d(4,e.type==="link"?4:e.type==="boolean"?5:6)}}function ne(t,a){if(t&1&&(i(0,"div",17)(1,"div",4)(2,"h2",5),l(3,"Category Details"),n()(),i(4,"div",6),g(5,ie,7,2,"div",7,x),n()()),t&2){let e=r(2);p("loading",e.isLoading),o(5),h(e.categoryData)}}function ae(t,a){if(t&1&&(i(0,"span",15),l(1),n()),t&2){let e=r().$implicit;m("ngClass",b(2,y,e.value,!e.value)),o(),u(" ",e.value?"Active":"Not Active"," ")}}function oe(t,a){if(t&1&&l(0),t&2){let e=r().$implicit;u(" ",e.value," ")}}function le(t,a){if(t&1&&(i(0,"div",7)(1,"div",13),l(2),n(),i(3,"div",14),c(4,ae,2,5,"span",15)(5,oe,1,1),n()()),t&2){let e=a.$implicit;o(2),f(e.header),o(2),d(4,e.type==="boolean"?4:5)}}function re(t,a){if(t&1&&(i(0,"div",17)(1,"div",4)(2,"h2",5),l(3,"Building Insurance Details"),n()(),i(4,"div",6),g(5,le,6,2,"div",7,x),n()()),t&2){let e=r(2);p("loading",e.isLoading),o(5),h(e.buildingInsuranceData)}}function de(t,a){if(t&1&&(i(0,"div",3)(1,"div",4)(2,"h2",5),l(3,"Building Request Details"),n()(),i(4,"div",6),g(5,G,6,2,"div",7,x),n(),i(7,"div",8)(8,"a",9),_(9,"p-button",10),n(),c(10,H,2,2,"a",11),n()(),c(11,W,7,2,"div",12)(12,ne,7,2,"div",12)(13,re,7,2,"div",12)),t&2){let e=r();p("loading",e.isLoading),o(5),h(e.buildingRequestData),o(5),d(10,e.buildingRequest.id?10:-1),o(),d(11,e.buildingRequest.user?11:-1),o(),d(12,e.category?12:-1),o(),d(13,e.buildingInsurance?13:-1)}}function se(t,a){t&1&&(i(0,"div",19)(1,"div",20),_(2,"i",21),i(3,"p",22),l(4,"No building request data found"),n()(),i(5,"div",23)(6,"a",9),_(7,"p-button",24),n()()())}var xe=(()=>{class t{constructor(e,s){this.route=e,this.ngxSpinnerService=s,this.buildingRequest=null,this.category=null,this.buildingInsurance=null,this.isLoading=!0,this.buildingRequestData=[],this.userData=[],this.categoryData=[],this.buildingInsuranceData=[]}ngOnInit(){this.route.data.subscribe(e=>{console.log(e),this.buildingRequest=e.data.buildingRequest.data,this.category=e.data.category.data,this.buildingInsurance=e.data.buildingInsurance.data,this.prepareTableData(),this.ngxSpinnerService.hide("actionsLoader"),this.isLoading=!1})}prepareTableData(){this.buildingRequest&&(this.buildingRequestData=[{field:"id",header:"ID",value:this.buildingRequest.id||"N/A"},{field:"payment_method",header:"Payment Method",value:this.buildingRequest.payment_method||"N/A"},{field:"building_insurance_number",header:"Building Insurance Number",value:this.buildingRequest.building_insurance_number||"N/A"},{field:"admin_building_insurance_number",header:"Admin Building  Number",value:this.buildingRequest.admin_building_insurance_number||"N/A"},{field:"name",header:"Name",value:this.buildingRequest.name||"N/A"},{field:"email",header:"Email",value:this.buildingRequest.email||"N/A"},{field:"phone",header:"Phone",value:this.buildingRequest.phone||"N/A"},{field:"building_type",header:"Building Type",value:this.buildingRequest.building_type||"N/A"},{field:"building_country",header:"Building Country",value:this.buildingRequest.building_country||"N/A"},{field:"building_price",header:"Building Price",value:this.buildingRequest.building_price||"N/A"},{field:"company_building_total_money",header:"Total buildings mony",value:this.buildingRequest.company_building_total_money||"N/A"},{field:"request_type",header:"Request Type",value:this.buildingRequest.request_type||"individual"},{field:"company_building_number",header:"Company Building Number",value:this.buildingRequest.company_building_number||"N/A"},{field:"start_date",header:"Start Date",value:this.buildingRequest.start_date?this.formatDate(this.buildingRequest.start_date):"N/A"},{field:"duration",header:"Duration",value:this.buildingRequest.duration?`${this.buildingRequest.duration} years`:"N/A"},{field:"end_date",header:"End Date",value:this.buildingRequest.end_date?this.formatDate(this.buildingRequest.end_date):"N/A"},{field:"active_status",header:"Active Status",value:this.buildingRequest.active_status,type:"boolean"},{field:"created_at",header:"Created At",value:this.buildingRequest.created_at?this.formatDate(this.buildingRequest.created_at):"N/A"},{field:"updated_at",header:"Updated At",value:this.buildingRequest.updated_at?this.formatDate(this.buildingRequest.updated_at):"N/A"}],this.buildingRequest.user&&(this.userData=[{field:"user_id",header:"ID",value:this.buildingRequest.user.id||"N/A"},{field:"user_name",header:"Name",value:this.buildingRequest.user.name||"N/A"},{field:"user_email",header:"Email",value:this.buildingRequest.user.email||"N/A"},{field:"user_phone",header:"Phone",value:this.buildingRequest.user.phone||"N/A"},{field:"user_gender",header:"Gender",value:this.buildingRequest.user.gender||"N/A"},{field:"user_birth_date",header:"Birth Date",value:this.buildingRequest.user.birth_date||"N/A"},{field:"user_role",header:"Role",value:this.buildingRequest.user.role||"N/A"},{field:"user_created_at",header:"Created At",value:this.buildingRequest.user.created_at?this.formatDate(this.buildingRequest.user.created_at):"N/A"},{field:"user_updated_at",header:"Updated At",value:this.buildingRequest.user.updated_at?this.formatDate(this.buildingRequest.user.updated_at):"N/A"}])),this.category&&(this.categoryData=[{field:"category_id",header:"ID",value:this.category.id||"N/A"},{field:"category_en_title",header:"English Title",value:this.category.en_title||"N/A"},{field:"category_network_link",header:"Network Link",value:this.category.network_link||"N/A",type:"link"},{field:"category_counter_number",header:"Counter Number",value:this.category.counter_number||"N/A"},{field:"category_created_at",header:"Created At",value:this.category.created_at?this.formatDate(this.category.created_at):"N/A"}]),this.buildingInsurance&&(this.buildingInsuranceData=[{field:"insurance_id",header:"ID",value:this.buildingInsurance.id||"N/A"},{field:"insurance_en_title",header:"English Title",value:this.buildingInsurance.en_title||"N/A"},{field:"insurance_company_name",header:"Company Name",value:this.buildingInsurance.company_name||"N/A"},{field:"insurance_year_money",header:"Yearly Cost",value:this.buildingInsurance.year_money||"N/A"},{field:"insurance_created_at",header:"Created At",value:this.buildingInsurance.created_at?this.formatDate(this.buildingInsurance.created_at):"N/A"},{field:"insurance_updated_at",header:"Updated At",value:this.buildingInsurance.updated_at?this.formatDate(this.buildingInsurance.updated_at):"N/A"}])}formatDate(e){if(!e)return"N/A";if(e.includes("T")){let C=new Date(e);if(isNaN(C.getTime()))return e;let L=(C.getMonth()+1).toString().padStart(2,"0"),U=C.getDate().toString().padStart(2,"0"),j=C.getFullYear();return`${L}/${U}/${j}`}let s=e.match(/^(\d{2})-(\d{2})-(\d{4})$/);if(!s)return e;let[,v,O,B]=s;return`${O}/${v}/${B}`}static{this.\u0275fac=function(s){return new(s||t)(R(I),R(S))}}static{this.\u0275cmp=A({type:t,selectors:[["app-building-request-view"]],standalone:!0,features:[w],decls:7,vars:3,consts:[["position","top-right",3,"baseZIndex"],["name","actionsLoader","bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[1,"text-white"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"detail-section"],[1,"detail-row"],[1,"action-buttons","flex","gap-2","justify-end"],["href","/dashboard/menu/building-requests"],["label","Back","styleClass","p-button-text"],[3,"href"],[1,"card","mt-4",3,"loading"],[1,"detail-label","font-bold"],[1,"detail-value"],[3,"ngClass"],["label","Edit","styleClass","p-button-outlined"],[1,"card","mt-4"],["target","_blank",1,"link","hover:underline","text-primary-600",3,"href"],[1,"card","no-data-card"],[1,"no-data-message","flex","flex-col","items-center","justify-center","p-8","text-center"],[1,"pi","pi-exclamation-circle","text-4xl","text-yellow-500","mb-4"],[1,"text-lg","font-medium"],[1,"action-buttons","flex","justify-center","pb-4"],["label","Back to Building Requests","styleClass","p-button-text"]],template:function(s,v){s&1&&(_(0,"p-toast",0),i(1,"ngx-spinner",1)(2,"p",2),l(3,"Loading..."),n()(),c(4,z,1,0,"app-loading-data-banner")(5,de,14,6)(6,se,8,0)),s&2&&(m("baseZIndex",5e3),o(),m("fullScreen",!0),o(3),d(4,v.isLoading?4:v.buildingRequest?5:6))},dependencies:[D,P,V,M,F,$,T,E,k],styles:["[_nghost-%COMP%]{display:block;font-family:Arial,sans-serif}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:1.5rem;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;padding-bottom:1rem;margin-bottom:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937}.detail-section[_ngcontent-%COMP%]{display:grid;gap:1rem}.detail-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 1fr;align-items:start;padding:.75rem 0;border-bottom:1px solid #e5e7eb}.detail-label[_ngcontent-%COMP%]{font-weight:700;color:#374151}.detail-value[_ngcontent-%COMP%]{color:#4b5563}.no-data-card[_ngcontent-%COMP%]{text-align:center;padding:2rem}.no-data-message[_ngcontent-%COMP%]{color:#4b5563}.action-buttons[_ngcontent-%COMP%]{margin-top:1rem}.text-primary-600[_ngcontent-%COMP%]{color:#2563eb}.loading[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}@media (max-width: 640px){.detail-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.detail-label[_ngcontent-%COMP%]{margin-bottom:.25rem}}"]})}}return t})();export{xe as ViewPropertyRequestsComponent};
