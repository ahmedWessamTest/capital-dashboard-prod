import{a as G}from"./chunk-NH6Q3UB7.js";import{b as w,c as p,e as E,f as F,k as y,m as T,n as q,o as L,q as z}from"./chunk-V2NMUT4R.js";import{a as B}from"./chunk-2O7EOZOI.js";import{a as O,b as P}from"./chunk-KEBJO4LJ.js";import{d as V,e as A}from"./chunk-PEYIU4ER.js";import"./chunk-RJZ3H7D5.js";import"./chunk-5YI4S6VK.js";import{d as D,f as I}from"./chunk-PXM2JOVS.js";import{x as N}from"./chunk-27E65EIB.js";import"./chunk-FYJ5Y7AH.js";import{Ab as _,Kb as a,Qa as m,Sb as M,Y as u,ba as C,fb as d,hb as g,ka as S,la as h,mb as s,qb as e,rb as i,sb as f,wb as b,zb as v}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";function k(t,c){t&1&&(e(0,"small",13),a(1,"English Title is required"),i())}function U(t,c){t&1&&(e(0,"small",13),a(1,"Arabic title is required"),i())}function Z(t,c){t&1&&(e(0,"small",13),a(1,"English message is required"),i())}function j(t,c){t&1&&(e(0,"small",13),a(1,"English message must be at least 10 characters"),i())}function R(t,c){if(t&1&&d(0,Z,2,0,"small",13)(1,j,2,0,"small",13),t&2){let o,n,l=_(2);s(0,!((o=l.notificationForm.get("textmessage"))==null||o.errors==null)&&o.errors.required?0:-1),m(),s(1,!((n=l.notificationForm.get("textmessage"))==null||n.errors==null)&&n.errors.minlength?1:-1)}}function Y(t,c){t&1&&(e(0,"small",13),a(1,"Message is required"),i())}function H(t,c){t&1&&(e(0,"small",13),a(1,"Arabic message must be at least 10 characters"),i())}function J(t,c){if(t&1&&d(0,Y,2,0,"small",13)(1,H,2,0,"small",13),t&2){let o,n,l=_(2);s(0,!((o=l.notificationForm.get("artextmessage"))==null||o.errors==null)&&o.errors.required?0:-1),m(),s(1,!((n=l.notificationForm.get("artextmessage"))==null||n.errors==null)&&n.errors.minlength?1:-1)}}function K(t,c){if(t&1){let o=b();e(0,"h2",4),a(1,"Send Notification"),i(),e(2,"form",5),v("ngSubmit",function(){S(o);let l=_();return h(l.onSubmit())}),e(3,"div",6)(4,"div",7)(5,"label",8),a(6,"English Title"),i(),e(7,"div",9),f(8,"i",10)(9,"input",11),i(),e(10,"div",12),d(11,k,2,0,"small",13),i()(),e(12,"div",7)(13,"label",14),a(14,"Arabic Title"),i(),e(15,"div",9),f(16,"i",10)(17,"input",15),i(),e(18,"div",12),d(19,U,2,0,"small",13),i()(),e(20,"div",16)(21,"label",17),a(22,"English Message"),i(),e(23,"div",9),f(24,"i",18),e(25,"textarea",19),a(26,"          "),i()(),e(27,"div",12),d(28,R,2,2),i()(),e(29,"div",16)(30,"label",20),a(31,"Arabic Message"),i(),e(32,"div",9),f(33,"i",18),e(34,"textarea",21),a(35,"          "),i()(),e(36,"div",12),d(37,J,2,2),i()()(),e(38,"div",22),f(39,"button",23),i()()}if(t&2){let o,n,l,x,r=_();m(2),g("formGroup",r.notificationForm),m(9),s(11,(o=r.notificationForm.get("titlemessage"))!=null&&o.invalid&&((o=r.notificationForm.get("titlemessage"))!=null&&o.touched)?11:-1),m(8),s(19,(n=r.notificationForm.get("artitlemessage"))!=null&&n.invalid&&((n=r.notificationForm.get("artitlemessage"))!=null&&n.touched)?19:-1),m(9),s(28,(l=r.notificationForm.get("textmessage"))!=null&&l.invalid&&((l=r.notificationForm.get("textmessage"))!=null&&l.touched)?28:-1),m(9),s(37,(x=r.notificationForm.get("artextmessage"))!=null&&x.invalid&&((x=r.notificationForm.get("artextmessage"))!=null&&x.touched)?37:-1),m(2),g("disabled",r.notificationForm.invalid||r.isLoading)("icon",r.isLoading?"pi pi-spin pi-spinner mx-2":"")}}function Q(t,c){t&1&&f(0,"app-loading-data-banner",24)}var ct=(()=>{class t{constructor(){this.isLoading=!1,this.fb=u(L),this.SendNotificationService=u(G),this.spinner=u(O),this.messageService=u(N)}ngOnInit(){this.notificationForm=this.fb.group({titlemessage:["",p.required],textmessage:["",[p.required,p.minLength(10)]],artitlemessage:["",p.required],artextmessage:["",[p.required,p.minLength(10)]]})}onSubmit(){this.notificationForm.invalid||(this.isLoading=!0,this.spinner.show("notificationSpinner"),this.sendNotificationUnSub=this.SendNotificationService.sendNotification(this.notificationForm.value).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Success",detail:"Notification sent!"}),this.notificationForm.reset(),this.spinner.hide("notificationSpinner"),this.isLoading=!1},error:()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to send notification"}),this.spinner.hide("notificationSpinner"),this.isLoading=!1}}))}ngOnDestroy(){this.sendNotificationUnSub?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-send-notification"]],standalone:!0,features:[M],decls:7,vars:3,consts:[["position","top-right",3,"baseZIndex"],[1,"notification-form","p-4","w-full"],["name","notificationSpinner","bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[1,"text-white"],[1,"mb-4"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"notification-items","w-full","grid","grid-cols-1","md:grid-cols-2","gap-3","bg-white","p-4","rounded"],[1,"notification-item","w-full"],["for","titlemessage",1,"font-medium"],[1,"input-container","w-full"],[1,"pi","pi-file","text-gray-600","input-icon"],["id","titlemessage","type","text","pInputText","","formControlName","titlemessage","placeholder","Enter Title",1,"w-full"],[1,"error-container"],[1,"error-message"],["for","artitlemessage",1,"font-medium"],["id","artitlemessage","type","text","pInputText","","formControlName","artitlemessage","placeholder","Enter Title",1,"w-full"],[1,"notification-item","w-full","mb-6","mt-4"],["for","textmessage",1,"font-medium"],[1,"pi","pi-comment","text-gray-600","input-icon"],["id","textmessage","pInputTextarea","","formControlName","textmessage","placeholder","Enter your message",1,"w-full"],["for","artextmessage",1,"font-medium"],["id","artextmessage","pInputTextarea","","formControlName","artextmessage","placeholder","Enter your message",1,"w-full"],[1,"mt-4","w-full"],["pButton","","type","submit","label","Send Notification","aria-label","Send Notification",1,"btn-main","px-3","w-full",3,"disabled","icon"],[1,"w-full"]],template:function(n,l){n&1&&(f(0,"p-toast",0),e(1,"div",1),d(2,K,40,7)(3,Q,1,0),i(),e(4,"ngx-spinner",2)(5,"p",3),a(6,"Loading..."),i()()),n&2&&(g("baseZIndex",5e3),m(2),s(2,l.notificationForm?2:3),m(2),g("fullScreen",!0))},dependencies:[P,B,z,y,w,E,F,T,q,A,V,I,D],styles:[".notification-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333}.notification-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#555}.notification-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.phone-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem}@media (max-width: 768px){.phone-row[_ngcontent-%COMP%]{flex-wrap:wrap}}.notification-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.notification-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500}.notification-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;height:42px}.notification-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);font-size:1rem;z-index:1}.notification-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .notification-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;padding:.75rem .75rem .75rem 3rem;border-radius:6px;border:1px solid #ced4da;transition:border-color .2s;width:100%}.notification-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .notification-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}.notification-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100px;resize:none;margin-bottom:1rem}.notification-item[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{min-height:20px;margin-top:4px}.notification-item[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.8rem}.btn-main[_ngcontent-%COMP%]{background-color:#2196f3;border-color:#2196f3;color:#fff}.btn-main[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1976d2;border-color:#1976d2}.btn-main[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})}}return t})();export{ct as SendNotificationComponent};
