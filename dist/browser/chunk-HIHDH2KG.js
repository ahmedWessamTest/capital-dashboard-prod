import{a as M}from"./chunk-7ELY73M6.js";import{a as w,d as L}from"./chunk-2CYVADF6.js";import"./chunk-ULFGH5XU.js";import"./chunk-4WY6IZPL.js";import"./chunk-WDDFHKIH.js";import{b as D}from"./chunk-NZNLV7ZF.js";import"./chunk-AGVKSH7H.js";import{p as P}from"./chunk-V2NMUT4R.js";import{a as j,c as C}from"./chunk-KEBJO4LJ.js";import"./chunk-5YI4S6VK.js";import{d as E,f as A}from"./chunk-PXM2JOVS.js";import{C as T}from"./chunk-27E65EIB.js";import{d as y}from"./chunk-67M3DXMG.js";import{h as _,n as b}from"./chunk-FYJ5Y7AH.js";import{Ab as h,Kb as r,Lb as l,Qa as s,Sb as v,Tb as S,Vb as f,Y as m,ba as u,fb as p,hb as d,mb as x,qb as i,rb as n,zb as g}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";var F=()=>({"min-width":"50rem"}),I=(t,a)=>({"bg-green-100 border-green-400 text-green-700":t,"bg-red-100 border-red-400 text-red-700":a});function k(t,a){t&1&&(i(0,"tr")(1,"th"),r(2,"English Title"),n(),i(3,"th"),r(4,"Arabic Title"),n()())}function B(t,a){if(t&1&&(i(0,"tr")(1,"td"),r(2),n(),i(3,"td"),r(4),n()()),t&2){let e=a.$implicit;s(2),l(e.en_project_title),s(2),l(e.ar_project_title)}}function N(t,a){if(t&1&&(i(0,"div",7)(1,"strong",8),r(2),n(),i(3,"span",9),r(4),n()()),t&2){let e=h();d("ngClass",f(3,I,e.message.type==="success",e.message.type==="error")),s(2),l(e.message.type==="success"?"Success!":"Error!"),s(2),l(e.message.text)}}var te=(()=>{class t{constructor(){this.projectsService=m(M),this.ngxSpinnerService=m(j),this.router=m(y),this.projects=[],this.message={text:"",type:""}}ngOnInit(){this.loadProjects()}loadProjects(){this.ngxSpinnerService.show("actionsLoader"),this.projectsService.getAll().subscribe({next:e=>{this.projects=e.data,this.ngxSpinnerService.hide("actionsLoader")},error:()=>{this.message={text:"Failed to load projects",type:"error"},this.ngxSpinnerService.hide("actionsLoader"),setTimeout(()=>this.message={text:"",type:""},5e3)}})}onStatusChange(e,o){this.ngxSpinnerService.show("actionsLoader"),(e.active_status==="1"||e.active_status===!0?this.projectsService.disable(e.id):this.projectsService.enable(e.id)).subscribe({next:()=>{this.message={text:e.active_status==="1"||e.active_status===!0?"Project disabled successfully":"Project enabled successfully",type:"success"},this.ngxSpinnerService.hide("actionsLoader"),setTimeout(()=>this.message={text:"",type:""},5e3)},error:()=>{e.active_status=e.active_status==="1"||e.active_status===!0?"0":"1",this.message={text:"Failed to update status",type:"error"},this.ngxSpinnerService.hide("actionsLoader"),setTimeout(()=>this.message={text:"",type:""},5e3)}})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=u({type:t,selectors:[["app-all-darna-projects"]],standalone:!0,features:[v],decls:9,vars:4,consts:[[1,"flex","justify-center","items-center","min-h-screen"],[1,"card","w-full","max-w-4xl"],["pButton","","label","Add Project","icon","pi pi-plus",1,"my-4","text-right",3,"click"],[1,"card-title","text-center","mb-6"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["role","alert",1,"border","px-4","py-3","rounded","relative","mb-4","max-w-4xl","mx-auto",3,"ngClass"],[1,"font-bold"],[1,"block","sm:inline","ml-2"]],template:function(o,c){o&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),g("click",function(){return c.router.navigate(["/dashboard/menu/add-darna-projects"])}),n(),i(3,"h2",3),r(4,"Projects List"),n(),i(5,"p-table",4),p(6,k,5,0,"ng-template",5)(7,B,5,2,"ng-template",6),n()()(),p(8,N,5,6,"div",7)),o&2&&(s(5),d("value",c.projects)("tableStyle",S(3,F)),s(3),x(8,c.message.text?8:-1))},dependencies:[b,_,C,L,w,T,D,A,E,P],encapsulation:2})}}return t})();export{te as AllDarnaProjectsComponent};
