import{a as k}from"./chunk-2O7EOZOI.js";import{a as S,b as E,c as T}from"./chunk-KEBJO4LJ.js";import{d as $,e as F}from"./chunk-PEYIU4ER.js";import"./chunk-5YI4S6VK.js";import{e as V,f as P}from"./chunk-PXM2JOVS.js";import"./chunk-27E65EIB.js";import{b as I}from"./chunk-67M3DXMG.js";import{h as M,n as D}from"./chunk-FYJ5Y7AH.js";import{Ab as l,Eb as N,Kb as d,Lb as v,Ma as R,Mb as c,Qa as o,Ra as b,Sb as w,Vb as C,ba as A,fb as m,hb as u,jb as p,mb as r,ob as h,pb as f,qb as i,rb as a,sb as _}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";var q=(t,n)=>n.field,y=(t,n)=>({"text-green-600 font-semibold":t,"text-red-500 italic":n});function z(t,n){t&1&&_(0,"app-loading-data-banner")}function G(t,n){if(t&1&&(i(0,"span",15),d(1),a()),t&2){let e=l().$implicit;u("ngClass",C(2,y,e.value,!e.value)),o(),c(" ",e.value?"Active":"Not Active"," ")}}function Y(t,n){if(t&1&&d(0),t&2){let e=l().$implicit;c(" ",e.value," ")}}function Z(t,n){if(t&1&&(i(0,"div",7)(1,"div",13),d(2),a(),i(3,"div",14),m(4,G,2,5,"span",15)(5,Y,1,1),a()()),t&2){let e=n.$implicit;o(2),v(e.header),o(2),r(4,e.type==="boolean"?4:5)}}function H(t,n){if(t&1&&(i(0,"a",11),_(1,"p-button",16),a()),t&2){let e=l(2);N("href","/dashboard/menu/medical-requests/edit/",e.medicalRequest.id,"",R)}}function J(t,n){if(t&1&&(i(0,"span",15),d(1),a()),t&2){let e=l().$implicit;u("ngClass",C(2,y,e.value,!e.value)),o(),c(" ",e.value?"Active":"Not Active"," ")}}function K(t,n){if(t&1&&d(0),t&2){let e=l().$implicit;c(" ",e.value," ")}}function Q(t,n){if(t&1&&(i(0,"div",7)(1,"div",13),d(2),a(),i(3,"div",14),m(4,J,2,5,"span",15)(5,K,1,1),a()()),t&2){let e=n.$implicit;o(2),v(e.header),o(2),r(4,e.type==="boolean"?4:5)}}function W(t,n){if(t&1&&(i(0,"div",17)(1,"div",4)(2,"h2",5),d(3,"User Details"),a()(),i(4,"div",6),h(5,Q,6,2,"div",7,q),a()()),t&2){let e=l(2);p("loading",e.isLoading),o(5),f(e.userData)}}function X(t,n){if(t&1&&(i(0,"a",18),d(1," Link "),a()),t&2){let e=l().$implicit;u("href",e.value,R)}}function ee(t,n){if(t&1&&(i(0,"span",15),d(1),a()),t&2){let e=l().$implicit;u("ngClass",C(2,y,e.value,!e.value)),o(),c(" ",e.value?"Active":"Not Active"," ")}}function te(t,n){if(t&1&&d(0),t&2){let e=l().$implicit;c(" ",e.value," ")}}function ie(t,n){if(t&1&&(i(0,"div",7)(1,"div",13),d(2),a(),i(3,"div",14),m(4,X,2,1,"a",18)(5,ee,2,5)(6,te,1,1),a()()),t&2){let e=n.$implicit;o(2),v(e.header),o(2),r(4,e.type==="link"?4:e.type==="boolean"?5:6)}}function ae(t,n){if(t&1&&(i(0,"div",17)(1,"div",4)(2,"h2",5),d(3,"Category Details"),a()(),i(4,"div",6),h(5,ie,7,2,"div",7,q),a()()),t&2){let e=l(2);p("loading",e.isLoading),o(5),f(e.categoryData)}}function ne(t,n){if(t&1&&(i(0,"span",15),d(1),a()),t&2){let e=l().$implicit;u("ngClass",C(2,y,e.value,!e.value)),o(),c(" ",e.value?"Active":"Not Active"," ")}}function oe(t,n){if(t&1&&d(0),t&2){let e=l().$implicit;c(" ",e.value," ")}}function de(t,n){if(t&1&&(i(0,"div",7)(1,"div",13),d(2),a(),i(3,"div",14),m(4,ne,2,5,"span",15)(5,oe,1,1),a()()),t&2){let e=n.$implicit;o(2),v(e.header),o(2),r(4,e.type==="boolean"?4:5)}}function le(t,n){if(t&1&&(i(0,"div",17)(1,"div",4)(2,"h2",5),d(3,"Medical Insurance Details"),a()(),i(4,"div",6),h(5,de,6,2,"div",7,q),a()()),t&2){let e=l(2);p("loading",e.isLoading),o(5),f(e.medicalInsuranceData)}}function re(t,n){if(t&1&&(i(0,"div",3)(1,"div",4)(2,"h2",5),d(3,"Medical Request Details"),a()(),i(4,"div",6),h(5,Z,6,2,"div",7,q),a(),i(7,"div",8)(8,"a",9),_(9,"p-button",10),a(),m(10,H,2,2,"a",11),a()(),m(11,W,7,2,"div",12)(12,ae,7,2,"div",12)(13,le,7,2,"div",12)),t&2){let e=l();p("loading",e.isLoading),o(5),f(e.medicalRequestData),o(5),r(10,e.medicalRequest.id?10:-1),o(),r(11,e.medicalRequest.user?11:-1),o(),r(12,e.category?12:-1),o(),r(13,e.medicalInsurance?13:-1)}}function se(t,n){t&1&&(i(0,"div",19)(1,"div",20),_(2,"i",21),i(3,"p",22),d(4,"No medical request data found"),a()(),i(5,"div",23)(6,"a",9),_(7,"p-button",24),a()()())}var qe=(()=>{class t{constructor(e,s){this.route=e,this.ngxSpinnerService=s,this.medicalRequest=null,this.category=null,this.medicalInsurance=null,this.isLoading=!0,this.medicalRequestData=[],this.userData=[],this.categoryData=[],this.medicalInsuranceData=[]}ngOnInit(){console.log("View medical request component initialized"),this.route.data.subscribe(e=>{console.log("Resolver data:",e),this.medicalRequest=e.data.medicalRequest.data,this.category=e.data.category.data,this.medicalInsurance=e.data.medicalInsurance.data,this.prepareTableData(),this.ngxSpinnerService.hide("actionsLoader"),this.isLoading=!1})}prepareTableData(){this.medicalRequest&&(this.medicalRequestData=[{field:"id",header:"ID",value:this.medicalRequest.id||"N/A"},{field:"payment_Method",header:"Payment Method",value:this.medicalRequest.payment_method||"N/A"},{field:"medical_insurance_number",header:"Medical Insurance Number",value:this.medicalRequest.medical_insurance_number||"N/A"},{field:"admin_medical_insurance_number",header:"Admin Medical  Number",value:this.medicalRequest.admin_medical_insurance_number||"N/A"},{field:"name",header:"Name",value:this.medicalRequest.name||"N/A"},{field:"email",header:"Email",value:this.medicalRequest.email||"N/A"},{field:"phone",header:"Phone",value:this.medicalRequest.phone||"N/A"},{field:"birthdate",header:"Birthdate",value:this.medicalRequest.birthdate||"N/A"},{field:"gender",header:"Gender",value:this.medicalRequest.gender||"N/A"},{field:"request_type",header:"Request Type",value:this.medicalRequest.request_type||"N/A"},{field:"company_building_number",header:"Number of employees",value:this.medicalRequest.company_employee_number||"individual"},{field:"start_date",header:"Start Date",value:this.medicalRequest.start_date?this.formatDate(this.medicalRequest.start_date):"N/A"},{field:"duration",header:"Duration",value:this.medicalRequest.duration?`${this.medicalRequest.duration} years`:"N/A"},{field:"end_date",header:"End Date",value:this.medicalRequest.end_date?this.formatDate(this.medicalRequest.end_date):"N/A"},{field:"active_status",header:"Active Status",value:this.medicalRequest.active_status,type:"boolean"},{field:"created_at",header:"Created At",value:this.medicalRequest.created_at?this.formatDate(this.medicalRequest.created_at):"N/A"},{field:"updated_at",header:"Updated At",value:this.medicalRequest.updated_at?this.formatDate(this.medicalRequest.updated_at):"N/A"}],this.medicalRequest.user&&(this.userData=[{field:"user_id",header:"ID",value:this.medicalRequest.user.id||"N/A"},{field:"user_name",header:"Name",value:this.medicalRequest.user.name||"N/A"},{field:"user_email",header:"Email",value:this.medicalRequest.user.email||"N/A"},{field:"user_phone",header:"Phone",value:this.medicalRequest.user.phone||"N/A"},{field:"user_gender",header:"Gender",value:this.medicalRequest.user.gender||"N/A"},{field:"user_birth_date",header:"Birth Date",value:this.medicalRequest.user.birth_date||"N/A"},{field:"user_role",header:"Role",value:this.medicalRequest.user.role||"N/A"},{field:"user_created_at",header:"Created At",value:this.medicalRequest.user.created_at?this.formatDate(this.medicalRequest.user.created_at):"N/A"},{field:"user_updated_at",header:"Updated At",value:this.medicalRequest.user.updated_at?this.formatDate(this.medicalRequest.user.updated_at):"N/A"}])),this.category&&(this.categoryData=[{field:"category_id",header:"ID",value:this.category.id||"N/A"},{field:"category_en_title",header:"English Title",value:this.category.en_title||"N/A"},{field:"category_network_link",header:"Network Link",value:this.category.network_link||"N/A",type:"link"},{field:"category_counter_number",header:"Counter Number",value:this.category.counter_number||"N/A"},{field:"category_created_at",header:"Created At",value:this.category.created_at?this.formatDate(this.category.created_at):"N/A"}]),this.medicalInsurance&&(this.medicalInsuranceData=[{field:"insurance_id",header:"ID",value:this.medicalInsurance.id||"N/A"},{field:"insurance_en_title",header:"English Title",value:this.medicalInsurance.en_title||"N/A"},{field:"insurance_company_name",header:"Company Name",value:this.medicalInsurance.company_name||"N/A"},{field:"insurance_year_money",header:"Yearly Cost",value:this.medicalInsurance.year_money||"N/A"},{field:"insurance_created_at",header:"Created At",value:this.medicalInsurance.created_at?this.formatDate(this.medicalInsurance.created_at):"N/A"},{field:"insurance_updated_at",header:"Updated At",value:this.medicalInsurance.updated_at?this.formatDate(this.medicalInsurance.updated_at):"N/A"}])}formatDate(e){if(!e)return"N/A";if(e.includes("T")){let g=new Date(e);if(isNaN(g.getTime()))return e;let B=(g.getMonth()+1).toString().padStart(2,"0"),U=g.getDate().toString().padStart(2,"0"),j=g.getFullYear();return`${B}/${U}/${j}`}let s=e.match(/^(\d{2})-(\d{2})-(\d{4})$/);if(!s)return e;let[,x,O,L]=s;return`${O}/${x}/${L}`}static{this.\u0275fac=function(s){return new(s||t)(b(I),b(S))}}static{this.\u0275cmp=A({type:t,selectors:[["app-medical-request-view"]],standalone:!0,features:[w],decls:7,vars:3,consts:[["position","top-right",3,"baseZIndex"],["name","actionsLoader","bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[1,"text-white"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"detail-section"],[1,"detail-row"],[1,"action-buttons","flex","gap-2","justify-end"],["href","/dashboard/menu/medical-requests"],["label","Back","styleClass","p-button-text"],[3,"href"],[1,"card","mt-4",3,"loading"],[1,"detail-label","font-bold"],[1,"detail-value"],[3,"ngClass"],["label","Edit","styleClass","p-button-outlined"],[1,"card","mt-4"],["target","_blank",1,"link","hover:underline","text-primary-600",3,"href"],[1,"card","no-data-card"],[1,"no-data-message","flex","flex-col","items-center","justify-center","p-8","text-center"],[1,"pi","pi-exclamation-circle","text-4xl","text-yellow-500","mb-4"],[1,"text-lg","font-medium"],[1,"action-buttons","flex","justify-center","pb-4"],["label","Back to Medical Requests","styleClass","p-button-text"]],template:function(s,x){s&1&&(_(0,"p-toast",0),i(1,"ngx-spinner",1)(2,"p",2),d(3,"Loading..."),a()(),m(4,z,1,0,"app-loading-data-banner")(5,re,14,6)(6,se,8,0)),s&2&&(u("baseZIndex",5e3),o(),u("fullScreen",!0),o(3),r(4,x.isLoading?4:x.medicalRequest?5:6))},dependencies:[D,M,P,V,F,$,T,E,k],styles:["[_nghost-%COMP%]{display:block;font-family:Arial,sans-serif}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:1.5rem;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;padding-bottom:1rem;margin-bottom:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937}.detail-section[_ngcontent-%COMP%]{display:grid;gap:1rem}.detail-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 1fr;align-items:start;padding:.75rem 0;border-bottom:1px solid #e5e7eb}.detail-label[_ngcontent-%COMP%]{font-weight:700;color:#374151}.detail-value[_ngcontent-%COMP%]{color:#4b5563}.no-data-card[_ngcontent-%COMP%]{text-align:center;padding:2rem}.no-data-message[_ngcontent-%COMP%]{color:#4b5563}.action-buttons[_ngcontent-%COMP%]{margin-top:1rem}.text-primary-600[_ngcontent-%COMP%]{color:#2563eb}.loading[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}@media (max-width: 640px){.detail-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.detail-label[_ngcontent-%COMP%]{margin-bottom:.25rem}}"]})}}return t})();export{qe as ViewMedicalRequestsComponent};
