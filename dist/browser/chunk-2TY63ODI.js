import{a as U}from"./chunk-2O7EOZOI.js";import{a as V,b as J,c as $}from"./chunk-KEBJO4LJ.js";import{d as O,e as k}from"./chunk-PEYIU4ER.js";import{b as M}from"./chunk-RJZ3H7D5.js";import"./chunk-5YI4S6VK.js";import{e as F,f as L}from"./chunk-PXM2JOVS.js";import"./chunk-27E65EIB.js";import{b as P}from"./chunk-67M3DXMG.js";import{h as E,n as T}from"./chunk-FYJ5Y7AH.js";import{Ab as s,Eb as S,Kb as l,Lb as C,Ma as f,Mb as u,Qa as o,Ra as q,Sb as D,Vb as x,ba as R,fb as p,hb as c,jb as h,ka as A,la as N,mb as d,ob as v,pb as b,qb as a,rb as i,sb as m,wb as w,zb as I}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";var j=(t,n)=>n.field,y=(t,n)=>({"text-green-600 font-semibold":t,"text-red-500 italic":n});function H(t,n){t&1&&m(0,"app-loading-data-banner")}function K(t,n){t&1&&m(0,"div",17)}function Q(t,n){if(t&1){let e=w();a(0,"div",15)(1,"img",16),I("load",function(){A(e);let _=s(3);return N(_.onImageLoad())}),i(),p(2,K,1,0,"div",17),i()}if(t&2){let e=s().$implicit,r=s(2);o(),h("loaded",r.imageLoaded),c("src",r.IMAGE_BASE_URL+e.value,f)("alt",e.header),o(),d(2,r.imageLoaded?-1:2)}}function W(t,n){if(t&1&&(a(0,"a",18),l(1),i()),t&2){let e=s().$implicit;c("href",e.value,f),o(),u(" ",e.value," ")}}function X(t,n){if(t&1&&(a(0,"span",19),l(1),i()),t&2){let e=s().$implicit;c("ngClass",x(2,y,e.value==="active",e.value!=="active")),o(),u(" ",e.value==="active"?"Active":"Not Active"," ")}}function ee(t,n){if(t&1&&l(0),t&2){let e=s().$implicit;u(" ",e.value," ")}}function te(t,n){if(t&1&&(a(0,"div",7)(1,"div",13),l(2),i(),a(3,"div",14),p(4,Q,3,5)(5,W,2,2)(6,X,2,5)(7,ee,1,1),i()()),t&2){let e,r=n.$implicit;o(2),C(r.header),o(2),d(4,(e=r.type)==="image"?4:e==="link"?5:e==="boolean"?6:7)}}function ie(t,n){if(t&1&&(a(0,"a",11),m(1,"p-button",20),i()),t&2){let e=s(2);S("href","/dashboard/menu/jop-requests/edit/",e.jobRequest.id,"",f)}}function ne(t,n){if(t&1&&(a(0,"span",19),l(1),i()),t&2){let e=s().$implicit;c("ngClass",x(2,y,e.value==="active",e.value!=="active")),o(),u(" ",e.value==="active"?"Active":"Not Active"," ")}}function ae(t,n){if(t&1&&l(0),t&2){let e=s().$implicit;u(" ",e.value," ")}}function oe(t,n){if(t&1&&(a(0,"div",7)(1,"div",13),l(2),i(),a(3,"div",14),p(4,ne,2,5,"span",19)(5,ae,1,1),i()()),t&2){let e=n.$implicit;o(2),C(e.header),o(2),d(4,e.type==="boolean"?4:5)}}function re(t,n){if(t&1&&(a(0,"div",21)(1,"div",4)(2,"h2",5),l(3,"User Details"),i()(),a(4,"div",6),v(5,oe,6,2,"div",7,j),i()()),t&2){let e=s(2);h("loading",e.isLoading),o(5),b(e.userData)}}function le(t,n){if(t&1&&(a(0,"a",18),l(1," Link "),i()),t&2){let e=s().$implicit;c("href",e.value,f)}}function se(t,n){if(t&1&&(a(0,"span",19),l(1),i()),t&2){let e=s().$implicit;c("ngClass",x(2,y,e.value==="active",e.value!=="active")),o(),u(" ",e.value==="active"?"Active":"Not Active"," ")}}function de(t,n){if(t&1&&l(0),t&2){let e=s().$implicit;u(" ",e.value," ")}}function ce(t,n){if(t&1&&(a(0,"div",7)(1,"div",13),l(2),i(),a(3,"div",14),p(4,le,2,1,"a",18)(5,se,2,5)(6,de,1,1),i()()),t&2){let e=n.$implicit;o(2),C(e.header),o(2),d(4,e.type==="link"?4:e.type==="boolean"?5:6)}}function ue(t,n){if(t&1&&(a(0,"div",21)(1,"div",4)(2,"h2",5),l(3,"Category Details"),i()(),a(4,"div",6),v(5,ce,7,2,"div",7,j),i()()),t&2){let e=s(2);h("loading",e.isLoading),o(5),b(e.categoryData)}}function pe(t,n){if(t&1&&(a(0,"span",19),l(1),i()),t&2){let e=s().$implicit;c("ngClass",x(2,y,e.value==="active",e.value!=="active")),o(),u(" ",e.value==="active"?"Active":"Not Active"," ")}}function me(t,n){if(t&1&&l(0),t&2){let e=s().$implicit;u(" ",e.value," ")}}function _e(t,n){if(t&1&&(a(0,"div",7)(1,"div",13),l(2),i(),a(3,"div",14),p(4,pe,2,5,"span",19)(5,me,1,1),i()()),t&2){let e=n.$implicit;o(2),C(e.header),o(2),d(4,e.type==="boolean"?4:5)}}function he(t,n){if(t&1&&(a(0,"div",21)(1,"div",4)(2,"h2",5),l(3,"Professional Insurance Details"),i()(),a(4,"div",6),v(5,_e,6,2,"div",7,j),i()()),t&2){let e=s(2);h("loading",e.isLoading),o(5),b(e.jobInsuranceData)}}function fe(t,n){if(t&1&&(a(0,"div",3)(1,"div",4)(2,"h2",5),l(3,"Professional Request Details"),i()(),a(4,"div",6),v(5,te,8,2,"div",7,j),i(),a(7,"div",8)(8,"a",9),m(9,"p-button",10),i(),p(10,ie,2,2,"a",11),i()(),p(11,re,7,2,"div",12)(12,ue,7,2,"div",12)(13,he,7,2,"div",12)),t&2){let e=s();h("loading",e.isLoading),o(5),b(e.jobRequestData),o(5),d(10,e.jobRequest.id?10:-1),o(),d(11,e.jobRequest.user?11:-1),o(),d(12,e.category?12:-1),o(),d(13,e.jobInsurance?13:-1)}}function ve(t,n){t&1&&(a(0,"div",22)(1,"div",23),m(2,"i",24),a(3,"p",25),l(4,"No job request data found"),i()(),a(5,"div",26)(6,"a",9),m(7,"p-button",27),i()()())}var Se=(()=>{class t{constructor(e,r){this.route=e,this.ngxSpinnerService=r,this.jobRequest=null,this.category=null,this.jobInsurance=null,this.isLoading=!0,this.imageLoaded=!1,this.IMAGE_BASE_URL=M,this.jobRequestData=[],this.userData=[],this.categoryData=[],this.jobInsuranceData=[]}ngOnInit(){this.ngxSpinnerService.show("actionsLoader"),this.route.data.subscribe(e=>{console.log("Resolver data:",e);let r=e?.data||{};this.jobRequest=r.jobRequest?.data||r.jobRequest||null,this.category=r.category?.data||r.category||null,this.jobInsurance=r.jobInsurance?.data||r.jobInsurance||null,this.prepareTableData(),this.isLoading=!1,this.ngxSpinnerService.hide("actionsLoader")})}prepareTableData(){this.jobRequest&&(this.jobRequestData=[{field:"id",header:"ID",value:this.jobRequest.id||"N/A"},{field:"payment_method",header:"Payment Method",value:this.jobRequest.payment_method||"N/A"},{field:"jop_insurance_number",header:"Professional Insurance Number",value:this.jobRequest.jop_insurance_number||"N/A"},{field:"admin_jop_insurance_number",header:"Admin Professional Insurance Number",value:this.jobRequest.admin_jop_insurance_number||"N/A"},{field:"name",header:"Name",value:this.jobRequest.name||"N/A"},{field:"email",header:"Email",value:this.jobRequest.email||"N/A"},{field:"phone",header:"Phone",value:this.jobRequest.phone||"N/A"},{field:"birthdate",header:"Birth Date",value:this.jobRequest.birthdate||"N/A"},{field:"gender",header:"Gender",value:this.jobRequest.gender||"N/A"},{field:"job_title",header:"professional Title",value:this.jobRequest.job_title||"N/A"},{field:"company_name",header:"Company Name",value:this.jobRequest.company_name||"N/A"},{field:"profession_name",header:"Profession",value:this.jobRequest.jop_title||"N/A"},{field:"salary",header:"Salary",value:this.jobRequest.jop_price?`${this.jobRequest.jop_price} LE`:"N/A"},{field:"request_type",header:"Request Type",value:this.jobRequest.request_type||"individual"},{field:"company_building_number",header:"Number of employees",value:this.jobRequest.company_employee_number||"N/A"},{field:"start_date",header:"Start Date",value:this.jobRequest.start_date?this.formatDate(this.jobRequest.start_date):"N/A"},{field:"duration",header:"Duration",value:this.jobRequest.duration?`${this.jobRequest.duration} years`:"N/A"},{field:"end_date",header:"End Date",value:this.jobRequest.end_date?this.formatDate(this.jobRequest.end_date):"N/A"},{field:"active_status",header:"Active Status",value:this.jobRequest.active_status||"N/A",type:"boolean"},{field:"created_at",header:"Created At",value:this.jobRequest.created_at?this.formatDate(this.jobRequest.created_at):"N/A"},{field:"updated_at",header:"Updated At",value:this.jobRequest.updated_at?this.formatDate(this.jobRequest.updated_at):"N/A"},{field:"jop_main_id",header:"professional Main ID",value:this.jobRequest.jop_main_id?this.formatDate(this.jobRequest.jop_main_id):"N/A",type:"image"},{field:"jop_second_id",header:"professional Second ID",value:this.jobRequest.jop_second_id?this.formatDate(this.jobRequest.jop_second_id):"N/A",type:"image"}],this.jobRequest.user&&(this.userData=[{field:"id",header:"ID",value:this.jobRequest.user.id||"N/A"},{field:"name",header:"Name",value:this.jobRequest.user.name||"N/A"},{field:"email",header:"Email",value:this.jobRequest.user.email||"N/A"},{field:"phone",header:"Phone",value:this.jobRequest.user.phone||"N/A"},{field:"gender",header:"Gender",value:this.jobRequest.user.gender||"N/A"},{field:"birth_date",header:"Birth Date",value:this.jobRequest.user.birth_date||"N/A"},{field:"role",header:"Role",value:this.jobRequest.user.role||"N/A"},{field:"created_at",header:"Created At",value:this.jobRequest.user.created_at?this.formatDate(this.jobRequest.user.created_at):"N/A"},{field:"updated_at",header:"Updated At",value:this.jobRequest.user.updated_at?this.formatDate(this.jobRequest.user.updated_at):"N/A"}])),this.category&&(this.categoryData=[{field:"id",header:"ID",value:this.category.id||"N/A"},{field:"en_title",header:"English Title",value:this.category.en_title||"N/A"},{field:"network_link",header:"Network Link",value:this.category.network_link||"N/A",type:"link"},{field:"counter_number",header:"Counter Number",value:this.category.counter_number||"N/A"},{field:"created_at",header:"Created At",value:this.category.created_at?this.formatDate(this.category.created_at):"N/A"}]),this.jobInsurance&&(this.jobInsuranceData=[{field:"id",header:"ID",value:this.jobInsurance.id||"N/A"},{field:"en_title",header:"English Title",value:this.jobInsurance.en_title||"N/A"},{field:"company_name",header:"Company Name",value:this.jobInsurance.company_name||"N/A"},{field:"year_money",header:"Yearly Cost",value:this.jobInsurance.year_money||"N/A"},{field:"month_money",header:"Monthly Cost",value:this.jobInsurance.month_money||"N/A"},{field:"created_at",header:"Created At",value:this.jobInsurance.created_at?this.formatDate(this.jobInsurance.created_at):"N/A"},{field:"updated_at",header:"Updated At",value:this.jobInsurance.updated_at?this.formatDate(this.jobInsurance.updated_at):"N/A"}])}formatDate(e){if(!e)return"N/A";if(e.includes("T")){let g=new Date(e);if(isNaN(g.getTime()))return e;let G=(g.getMonth()+1).toString().padStart(2,"0"),Y=g.getDate().toString().padStart(2,"0"),Z=g.getFullYear();return`${G}/${Y}/${Z}`}let r=e.match(/^(\d{2})-(\d{2})-(\d{4})$/);if(!r)return e;let[,_,B,z]=r;return`${B}/${_}/${z}`}onImageLoad(){this.imageLoaded=!0}static{this.\u0275fac=function(r){return new(r||t)(q(P),q(V))}}static{this.\u0275cmp=R({type:t,selectors:[["app-view-jop-requests"]],standalone:!0,features:[D],decls:7,vars:3,consts:[["position","top-right",3,"baseZIndex"],["name","actionsLoader","bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[1,"text-white"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"detail-section"],[1,"detail-row"],[1,"action-buttons","flex","gap-2","justify-end"],["href","/dashboard/menu/jop-requests"],["label","Back","styleClass","p-button-text"],[3,"href"],[1,"card","mt-4",3,"loading"],[1,"detail-label","font-bold"],[1,"detail-value"],[1,"image-container"],[1,"category-image",3,"load","src","alt"],[1,"image-placeholder"],["target","_blank",1,"link","hover:underline","text-primary-600",3,"href"],[3,"ngClass"],["label","Edit","styleClass","p-button-outlined"],[1,"card","mt-4"],[1,"card","no-data-card"],[1,"no-data-message","flex","flex-col","items-center","justify-center","p-8","text-center"],[1,"pi","pi-exclamation-circle","text-4xl","text-yellow-500","mb-4"],[1,"text-lg","font-medium"],[1,"action-buttons","flex","justify-center","pb-4"],["label","Back to Professional Requests","styleClass","p-button-text"]],template:function(r,_){r&1&&(m(0,"p-toast",0),a(1,"ngx-spinner",1)(2,"p",2),l(3,"Loading..."),i()(),p(4,H,1,0,"app-loading-data-banner")(5,fe,14,6)(6,ve,8,0)),r&2&&(c("baseZIndex",5e3),o(),c("fullScreen",!0),o(3),d(4,_.isLoading?4:_.jobRequest?5:6))},dependencies:[T,E,k,O,L,F,$,J,U],styles:["[_nghost-%COMP%]{display:block;font-family:Arial,sans-serif}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:1.5rem;margin-bottom:1.5rem}.card.loading[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937}.detail-section[_ngcontent-%COMP%]{display:grid;gap:1rem}.detail-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 1fr;align-items:center;padding:.75rem 0;border-bottom:1px solid #e5e7eb}.detail-row.flex[_ngcontent-%COMP%]{display:flex;align-items:center}.detail-label[_ngcontent-%COMP%]{font-weight:500;color:#4b5563;text-transform:capitalize}.detail-value[_ngcontent-%COMP%]{color:#1f2937}.image-container[_ngcontent-%COMP%]{position:relative;width:100px;height:100px}.category-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:4px;opacity:0;transition:opacity .3s}.category-image.loaded[_ngcontent-%COMP%]{opacity:1}.image-placeholder[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#e5e7eb;border-radius:4px}.link[_ngcontent-%COMP%]{color:#2563eb;text-decoration:underline}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:1rem}.no-data-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:1.5rem;text-align:center}.no-data-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#4b5563;font-size:1.125rem}.no-data-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#dc2626}"]})}}return t})();export{Se as ViewJopRequestsComponent};
