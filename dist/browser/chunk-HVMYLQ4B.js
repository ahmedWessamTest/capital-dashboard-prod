import{a as X}from"./chunk-4JHUVNNE.js";import{a as Q,b as W}from"./chunk-WQRK5NAT.js";import{a as Z,b as H}from"./chunk-AGVKSH7H.js";import{b as q,c as p,e as N,f as z,k as R,m as V,n as U,o as j,q as $}from"./chunk-V2NMUT4R.js";import{a as K}from"./chunk-2O7EOZOI.js";import{a as P,b as L,c as A}from"./chunk-KEBJO4LJ.js";import{d as Y,e as J}from"./chunk-PEYIU4ER.js";import"./chunk-5YI4S6VK.js";import{d as B,f as G}from"./chunk-PXM2JOVS.js";import{x as C}from"./chunk-27E65EIB.js";import{n as I,r as O}from"./chunk-FYJ5Y7AH.js";import{Ab as v,Kb as a,Qa as r,Rb as T,S,Sb as D,Y as _,ba as E,fb as s,hb as f,ka as M,la as y,mb as u,qb as e,rb as t,sb as d,wb as F,zb as k}from"./chunk-PSXZOWGB.js";import"./chunk-PSFXZ2QL.js";var ee=(()=>{class n{constructor(){this.http=_(O)}getAboutDownload(){return this.http.get("https://digitalbondmena.com/insurance/api/about-download")}updateAboutDownload(i){return this.http.post("https://digitalbondmena.com/insurance/api/about-download/1",i)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ne(n,c){n&1&&(e(0,"small",13),a(1,"English Title is required"),t())}function ie(n,c){n&1&&(e(0,"small",13),a(1,"Arabic Title is required"),t())}function oe(n,c){n&1&&(e(0,"small",13),a(1,"English Text is required"),t())}function le(n,c){n&1&&(e(0,"small",13),a(1,"Arabic Text is required"),t())}function ae(n,c){n&1&&(e(0,"small",13),a(1,"Valid URL is required"),t())}function re(n,c){n&1&&(e(0,"small",13),a(1,"Valid URL is required"),t())}function de(n,c){n&1&&(e(0,"small",13),a(1,"Valid URL is required"),t())}function me(n,c){n&1&&(e(0,"small",13),a(1,"Valid URL is required"),t())}function se(n,c){if(n&1){let i=F();e(0,"h2",4),a(1,"About Downloads Information"),t(),e(2,"form",5),k("ngSubmit",function(){M(i);let m=v();return y(m.onSubmit())}),e(3,"div",6)(4,"div",7)(5,"label",8),a(6,"English Title"),t(),e(7,"div",9),d(8,"i",10)(9,"input",11),t(),e(10,"div",12),s(11,ne,2,0,"small",13),t()(),e(12,"div",7)(13,"label",14),a(14,"Arabic Title"),t(),e(15,"div",9),d(16,"i",10)(17,"input",15),t(),e(18,"div",12),s(19,ie,2,0,"small",13),t()(),e(20,"div",7)(21,"label",16),a(22,"English Text"),t(),e(23,"div",9),d(24,"i",17)(25,"textarea",18),t(),e(26,"div",12),s(27,oe,2,0,"small",13),t()(),e(28,"div",19)(29,"label",20),a(30,"Arabic Text"),t(),e(31,"div",9),d(32,"i",21)(33,"textarea",22),t(),e(34,"div",12),s(35,le,2,0,"small",13),t()(),e(36,"h3",23),a(37,"Download Links"),t(),e(38,"div",7)(39,"label",24),a(40,"Android Download Link"),t(),e(41,"div",9),d(42,"i",25)(43,"input",26),t(),e(44,"div",12),s(45,ae,2,0,"small",13),t()(),e(46,"div",7)(47,"label",27),a(48,"iOS Download Link"),t(),e(49,"div",9),d(50,"i",28)(51,"input",29),t(),e(52,"div",12),s(53,re,2,0,"small",13),t()(),e(54,"div",7)(55,"label",30),a(56,"Elwinsh Link"),t(),e(57,"div",9),d(58,"i",31)(59,"input",32),t(),e(60,"div",12),s(61,de,2,0,"small",13),t()(),e(62,"div",7)(63,"label",33),a(64,"Main Download Link"),t(),e(65,"div",9),d(66,"i",31)(67,"input",34),t(),e(68,"div",12),s(69,me,2,0,"small",13),t()()(),e(70,"div",35),d(71,"button",36),t()()}if(n&2){let i,o,m,g,w,h,x,b,l=v();r(2),f("formGroup",l.downloadForm),r(9),u(11,(i=l.downloadForm.get("en_title"))!=null&&i.invalid&&((i=l.downloadForm.get("en_title"))!=null&&i.touched)?11:-1),r(8),u(19,(o=l.downloadForm.get("ar_title"))!=null&&o.invalid&&((o=l.downloadForm.get("ar_title"))!=null&&o.touched)?19:-1),r(8),u(27,(m=l.downloadForm.get("en_text"))!=null&&m.invalid&&((m=l.downloadForm.get("en_text"))!=null&&m.touched)?27:-1),r(8),u(35,(g=l.downloadForm.get("ar_text"))!=null&&g.invalid&&((g=l.downloadForm.get("ar_text"))!=null&&g.touched)?35:-1),r(10),u(45,(w=l.downloadForm.get("android_download_link"))!=null&&w.invalid&&((w=l.downloadForm.get("android_download_link"))!=null&&w.touched)?45:-1),r(8),u(53,(h=l.downloadForm.get("ios_download_link"))!=null&&h.invalid&&((h=l.downloadForm.get("ios_download_link"))!=null&&h.touched)?53:-1),r(8),u(61,(x=l.downloadForm.get("elwinsh_link"))!=null&&x.invalid&&((x=l.downloadForm.get("elwinsh_link"))!=null&&x.touched)?61:-1),r(8),u(69,(b=l.downloadForm.get("main_download_link"))!=null&&b.invalid&&((b=l.downloadForm.get("main_download_link"))!=null&&b.touched)?69:-1),r(2),f("disabled",l.downloadForm.invalid||l.isLoading)("icon",l.isLoading?"pi pi-spin pi-spinner mx-2":"")}}function ue(n,c){n&1&&d(0,"app-loading-data-banner",37)}var Ae=(()=>{class n{constructor(){this.fb=_(j),this.aboutDownloadService=_(ee),this.ngxSpinnerService=_(P),this.messageService=_(C),this.downloadForm=null,this.originalData=null,this.isLoading=!1,this.messages=[]}ngOnInit(){this.loadAboutDownloadInfo()}loadAboutDownloadInfo(){this.isLoading=!0,this.ngxSpinnerService.show("actionsLoader"),this.aboutDownloadService.getAboutDownload().subscribe({next:i=>{this.originalData=i.data,this.initializeForm(i.data),this.ngxSpinnerService.hide("actionsLoader"),this.isLoading=!1},error:()=>{this.ngxSpinnerService.hide("actionsLoader"),this.isLoading=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load download information"}),this.messages=[{severity:"error",summary:"Error",detail:"Failed to load download information"}]}})}initializeForm(i){let o=/^(https?:\/\/)?([\w-]+\.)+[\w-]+(\/[\w-./?%&=]*)?$/;this.downloadForm=this.fb.group({en_title:[i.en_title,p.required],ar_title:[i.ar_title,p.required],en_text:[i.en_text,p.required],ar_text:[i.ar_text,p.required],android_download_link:[i.android_download_link,[p.pattern(o)]],ios_download_link:[i.ios_download_link,[p.pattern(o)]],elwinsh_link:[i.elwinsh_link,[p.pattern(o)]],main_download_link:[i.main_download_link,[p.pattern(o)]]})}onSubmit(){if(!this.downloadForm?.dirty){this.messageService.add({severity:"info",summary:"Info",detail:"No changes to save"}),this.messages=[{severity:"info",summary:"Info",detail:"No changes to save"}];return}if(this.downloadForm?.valid){this.isLoading=!0,this.ngxSpinnerService.show("actionsLoader");let i=this.downloadForm.value;this.aboutDownloadService.updateAboutDownload(i).subscribe({next:o=>{this.ngxSpinnerService.hide("actionsLoader"),this.isLoading=!1,this.messageService.add({severity:"success",summary:"Success",detail:o.message}),this.messages=[{severity:"success",summary:"Success",detail:o.message}],this.downloadForm?.markAsPristine()},error:()=>{this.ngxSpinnerService.hide("actionsLoader"),this.isLoading=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update download information"}),this.messages=[{severity:"error",summary:"Error",detail:"Failed to update download information"}]}})}else{this.downloadForm?.markAllAsTouched();let i=Object.keys(this.downloadForm.controls).filter(o=>this.downloadForm?.get(o)?.invalid).map(o=>{let m=this.downloadForm?.get(o);return m?.errors?.required?`${o.replace(/_/g," ")} is required`:m?.errors?.pattern?`${o.replace(/_/g," ")} must be a valid URL`:`${o.replace(/_/g," ")} is invalid`});this.messageService.add({severity:"error",summary:"Error",detail:`Invalid fields: ${i.join(", ")}`}),this.messages=[{severity:"error",summary:"Error",detail:`Invalid fields: ${i.join(", ")}`}]}}markAsTouched(i){this.downloadForm?.get(i)?.markAsTouched()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=E({type:n,selectors:[["app-download-info"]],standalone:!0,features:[T([C]),D],decls:7,vars:3,consts:[["position","top-right",3,"baseZIndex"],[1,"about-download-control","p-4","w-full"],["name","downloadSpinner","bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","square-spin",3,"fullScreen"],[2,"color","white"],[1,"mb-4"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"about-download-items","w-full"],[1,"about-download-item","w-full"],["for","en_title",1,"font-medium"],[1,"input-container","w-full"],[1,"pi","pi-book","text-gray-600","input-icon"],["id","en_title","type","text","pInputText","","formControlName","en_title","placeholder","Enter English Title",1,"w-full"],[1,"error-container"],[1,"error-message"],["for","ar_title",1,"font-medium"],["id","ar_title","type","text","pInputText","","formControlName","ar_title","placeholder","Enter Arabic Title",1,"w-full"],["for","en_text",1,"font-medium"],[1,"pi","pi-align-left","text-gray-600","input-icon"],["id","en_text","pInputTextarea","","formControlName","en_text","placeholder","Enter English Text",1,"w-full"],[1,"about-download-item","w-full","mt-8","mb-4"],["for","ar_text",1,"font-medium"],[1,"pi","pi-align-right","text-gray-600","input-icon"],["id","ar_text","pInputTextarea","","formControlName","ar_text","placeholder","Enter Arabic Text",1,"w-full"],[1,"mt-4","mb-3"],["for","android_download_link",1,"font-medium"],[1,"pi","pi-android","text-green-500","input-icon"],["id","android_download_link","type","text","pInputText","","formControlName","android_download_link","placeholder","Enter Android Download URL",1,"w-full"],["for","ios_download_link",1,"font-medium"],[1,"pi","pi-apple","text-gray-500","input-icon"],["id","ios_download_link","type","text","pInputText","","formControlName","ios_download_link","placeholder","Enter iOS Download URL",1,"w-full"],["for","elwinsh_link",1,"font-medium"],[1,"pi","pi-globe","text-blue-500","input-icon"],["id","elwinsh_link","type","text","pInputText","","formControlName","elwinsh_link","placeholder","Enter Elwinsh URL",1,"w-full"],["for","main_download_link",1,"font-medium"],["id","main_download_link","type","text","pInputText","","formControlName","main_download_link","placeholder","Enter Main Download URL",1,"w-full"],[1,"mt-4","w-full"],["pButton","","type","submit","label","Save Changes",1,"btn-main","px-3","w-full",3,"disabled","icon"],[1,"w-full"]],template:function(o,m){o&1&&(d(0,"p-toast",0),e(1,"div",1),s(2,se,72,11)(3,ue,1,0),t(),e(4,"ngx-spinner",2)(5,"p",3),a(6,"Loading..."),t()()),o&2&&(f("baseZIndex",5e3),r(2),u(2,m.downloadForm?2:3),r(2),f("fullScreen",!0))},dependencies:[K,I,$,R,q,N,z,V,U,J,Y,A,L,G,B,H,Z,W,Q,X],styles:[".about-download-control[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #00000014}.about-download-control[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333}.about-download-control[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#555}.about-download-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.about-download-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.about-download-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500}.about-download-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;height:42px}.about-download-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);font-size:1rem;z-index:1}.about-download-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .about-download-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%;padding:.75rem .75rem .75rem 3rem;border-radius:6px;border:1px solid #ced4da;transition:border-color .2s;width:100%}.about-download-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100px;resize:none;margin-bottom:1rem}.about-download-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .about-download-item[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}.error-container[_ngcontent-%COMP%]{min-height:20px;margin-top:4px}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.8rem}.btn-main[_ngcontent-%COMP%]{background-color:#2196f3;border-color:#2196f3;color:#fff;border-radius:6px;padding:.75rem 1.5rem;font-size:1rem;font-weight:500;transition:background-color .2s,border-color .2s}.btn-main[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1976d2;border-color:#1976d2}.btn-main[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})}}return n})();export{Ae as DownloadInfoComponent};
